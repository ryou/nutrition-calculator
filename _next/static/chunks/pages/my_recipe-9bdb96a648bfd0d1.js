(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{5891:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my_recipe",function(){return n(2423)}])},2423:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var t=n(4051),i=n.n(t),u=n(5893),a=n(8767),c=n(452),s=n(8453),o=n(4918);function f(e,r,n,t,i,u,a){try{var c=e[u](a),s=c.value}catch(o){return void n(o)}c.done?r(s):Promise.resolve(s).then(t,i)}var l=function(){var e,r=(e=i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.s.list();case 2:if(!(r=e.sent).isFailure()){e.next=5;break}throw r.error;case 5:return e.abrupt("return",r.value);case 6:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,i){var u=e.apply(r,n);function a(e){f(u,t,i,a,c,"next",e)}function c(e){f(u,t,i,a,c,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),v=c.Z.MY_RECIPES,d=n(900),h=n(6860),p=n(8640),x=n(9382),w=n(7294),m=n(8031);function y(e,r,n,t,i,u,a){try{var c=e[u](a),s=c.value}catch(o){return void n(o)}c.done?r(s):Promise.resolve(s).then(t,i)}function _(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var u=e.apply(r,n);function a(e){y(u,t,i,a,c,"next",e)}function c(e){y(u,t,i,a,c,"throw",e)}a(void 0)}))}}var b=n(3912),j=n(1664),k=n.n(j),E=n(9743),C=n(3314);function P(e,r,n,t,i,u,a){try{var c=e[u](a),s=c.value}catch(o){return void n(o)}c.done?r(s):Promise.resolve(s).then(t,i)}var R=function(e){var r,n=e.myRecipe,t=function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{invalidateOnSuccess:!1}).invalidateOnSuccess,n=(0,a.useQueryClient)();return(0,w.useCallback)(_(i().mark((function t(){var u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.s.delete(e);case 2:if(!(u=t.sent).isFailure()){t.next=5;break}return t.abrupt("return",u);case 5:if(!r){t.next=8;break}return t.next=8,n.invalidateQueries(c.Z.MY_RECIPES);case 8:return t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)}))),[e,r,n])}(n.id,{invalidateOnSuccess:!0}),s=(0,w.useCallback)((r=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u30ec\u30b7\u30d4\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")){e.next=7;break}return e.next=3,t();case 3:if(!e.sent.isFailure()){e.next=7;break}return alert("\u30ec\u30b7\u30d4\u524a\u9664\u304c\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,i){var u=r.apply(e,n);function a(e){P(u,t,i,a,c,"next",e)}function c(e){P(u,t,i,a,c,"throw",e)}a(void 0)}))}),[t]);return(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("div",{children:(0,u.jsx)(k(),{href:m.V.my_recipe.detail.$url({query:{id:n.id}}),passHref:!0,children:(0,u.jsx)(E.C,{children:n.name})})}),(0,u.jsx)("div",{children:(0,u.jsx)(p.r,{shape:"circle",color:"ghost",size:"sm",onClick:s,children:(0,u.jsx)(x.o,{icon:"delete",size:"xl"})})})]})},N=function(e){var r=e.myRecipes;return(0,u.jsx)(d.n,{children:r.map((function(e){return(0,u.jsx)(h.G,{children:(0,u.jsx)(R,{myRecipe:e})},e.id)}))})},O=function(){var e=function(){var e=(0,a.useQuery)(v,l,s.b.MY_RECIPE);return{data:e.data,isError:e.isError}}(),r=e.data,n=e.isError;return(0,u.jsx)(C.f,{titleContent:"My\u30ec\u30b7\u30d4\u4e00\u89a7",children:n?(0,u.jsx)(b.w,{type:"error",children:"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"}):void 0===r?(0,u.jsx)("div",{}):(0,u.jsx)(N,{myRecipes:r})})}}},function(e){e.O(0,[669,606,774,888,179],(function(){return r=5891,e(e.s=r);var r}));var r=e.O();_N_E=r}]);